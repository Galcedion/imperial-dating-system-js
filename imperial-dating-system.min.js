function idsModernToImperial(e=Date.now(),t=0,r=!0,n=!1){function o(e){return e%4==0&&(e%100!=0||e%400==0)}if(e instanceof Date)var a=e;else{if(isNaN(e)||!(10<=e.toString().length))return!1;10==e.toString().length&&(e=e.toString()+"000");a=new Date(parseInt(e))}if("number"!=typeof t)return!1;if(9<t?t=9:t<0&&(t=0),"boolean"!=typeof r)return!1;if("boolean"!=typeof n)return!1;if(!r){var i=a,l=0;for(let e=0;e<i.getFullYear();e++)l+=24*(365+(o(e)?1:0))-8766.152711111112;i.setHours(i.getHours()+l)}var e=a.getFullYear(),u=Math.floor(e/1e3),e=e%1e3,f=(0!=e&&++u,e=e.toString().padStart(3,0),a=a,r=r,f=new Date(a.getFullYear(),0,1).getTime()/1e3,f=(a.getTime()/1e3-f)/60/60,r=r?24*(o(a.getFullYear())?366:365):8766.152711111112,((Math.floor(f/(r/1e3))+1)%1e3).toString().padStart(3,0));return n?""+t+f+e+".M"+u:t+` ${f} ${e}.M`+u}function idsImperialToModern(e,t=!0,r=!1){function n(e){return e%4==0&&(e%100!=0||e%400==0)}if(!(e=e.toString().trim().replace(/ /g,"").replace(/\./g,"")).match(/^\d{7}M\d+$/))return!1;if("boolean"!=typeof t)return!1;if("boolean"!=typeof r)return!1;var o=parseInt(e.slice(1,4)),a=parseInt(e.slice(4,7)),e=parseInt(e.slice(8))-1,e=(0==a&&++e,1e3*e+a),a=(a=r?31558149.76:24*(n(e)?366:365)*60*60,0==o?a:a/1e3*o),o=new Date(0);return o.setFullYear(e),o.setSeconds(a),r&&o.setHours(o.getHours()+function(t){var r=0;for(let e=0;e<t;e++)r+=8766.152711111112-24*(365+(n(e)?1:0));return r}(e)),t?o.valueOf():o}