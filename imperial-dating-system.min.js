function idsModernToImperial(e=Date.now(),t=0,r=!0,n=!1){function a(e){return e%4==0&&(e%100!=0||e%400==0)}if(e instanceof Date)var o=e;else{if(isNaN(e)||!(10<=e.toString().length))return!1;10==e.toString().length&&(e=e.toString()+"000");o=new Date(parseInt(e))}if("number"!=typeof t)return!1;if(9<t?t=9:t<0&&(t=0),"boolean"!=typeof r)return!1;if(!r){var i=o,l=0;for(let e=0;e<i.getFullYear();e++)l+=24*(365+(a(e)?1:0))-8766.152711111112;i.setHours(i.getHours()+l)}var u,e=o.getFullYear(),g=Math.floor(e/1e3),e=e%1e3;return 0!=e&&++g,e=e.toString().padStart(3,0),o=r?(r=o,u=new Date(r.getFullYear(),0,1).getTime()/1e3,u=(r.getTime()/1e3-u)/60/60,r=24*(a(r.getFullYear())?366:365),((Math.floor(u/(r/1e3))+1)%1e3).toString().padStart(3,0)):(u=o,r=new Date(u.getFullYear(),0,1).getTime()/1e3,u=(u.getTime()/1e3-r)/60/60,((Math.floor(u/8.766152711111111)+1)%1e3).toString().padStart(3,0)),n?""+t+o+e+".M"+g:t+` ${o} ${e}.M`+g}function idsImperialToModern(e,t=!0,r=!1){function n(e){return e%4==0&&(e%100!=0||e%400==0)}if(!(e=e.toString().trim().replace(/ /g,"").replace(/\./g,"")).match(/^\d{7}M\d+$/))return!1;var a=parseInt(e.slice(1,4)),o=parseInt(e.slice(4,7)),e=parseInt(e.slice(8))-1,e=(0==o&&++e,1e3*e+o),o=(o=r?31558149.76:24*(n(e)?366:365)*60*60,0==a?o:o/1e3*a),a=new Date(0);return a.setFullYear(e),a.setSeconds(o),r&&a.setHours(a.getHours()+function(t){var r=0;for(let e=0;e<t;e++)r+=8766.152711111112-24*(365+(n(e)?1:0));return r}(e)),t?a.valueOf():a}