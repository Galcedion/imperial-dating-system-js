function idsModernToImperial(e=Date.now(),t=0,r=!0,a=!1){function n(e){return e%4==0&&(e%100!=0||e%400==0)}if(e instanceof Date)var i=e;else{if(isNaN(e)||!(10<=e.toString().length))return!1;10==e.toString().length&&(e=e.toString()+"000");i=new Date(parseInt(e))}if("number"!=typeof t)return!1;if(9<t?t=9:t<0&&(t=0),"boolean"!=typeof r)return!1;if(!r){var o=i,l=0;for(let e=0;e<o.getFullYear();e++)l+=24*(365+(n(e)?1:0))-8766.152711111112;o.setHours(o.getHours()+l)}var g,e=i.getFullYear(),u=Math.floor(e/1e3),e=e%1e3;return 0!=e&&++u,e=e.toString().padStart(3,0),i=r?(r=i,g=new Date(r.getFullYear(),0,1).getTime()/1e3,g=(r.getTime()/1e3-g)/60/60,r=24*(n(r.getFullYear())?366:365),((Math.floor(g/(r/1e3))+1)%1e3).toString().padStart(3,0)):(g=i,r=new Date(g.getFullYear(),0,1).getTime()/1e3,g=(g.getTime()/1e3-r)/60/60,((Math.floor(g/8.766152711111111)+1)%1e3).toString().padStart(3,0)),a?""+t+i+e+".M"+u:t+` ${i} ${e}.M`+u}function idsImperialToModern(e,t=!0){if(!(e=e.toString().trim().replace(/ /g,"").replace(/\./g,"")).match(/^\d{7}M\d+$/))return!1;var r=parseInt(e.slice(1,4)),a=parseInt(e.slice(4,7)),e=parseInt(e.slice(8))-1,e=(0==a&&++e,1e3*e+a),a=24*((a=e)%4!=0||a%100==0&&a%400!=0?365:366)*60*60,a=0==r?a:a/1e3*r,r=new Date(0);return r.setFullYear(e),r.setSeconds(a),t?r.valueOf():r}